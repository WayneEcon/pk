# 04_æ”¿ç­–å½±å“åˆ†ææ¨¡å—

æœ¬æ¨¡å—ä¸“é—¨åˆ†æç¾å›½èƒ½æºç‹¬ç«‹æ”¿ç­–å¯¹å…¨çƒèƒ½æºè´¸æ˜“ç½‘ç»œçš„å½±å“ï¼Œä½¿ç”¨äº‹å‰-äº‹åå¯¹æ¯”å’Œç»Ÿè®¡æ£€éªŒæ–¹æ³•è¯„ä¼°æ”¿ç­–æ•ˆæœã€‚

## ğŸ“ æ–‡ä»¶ç»“æ„

```
04_policy_analysis/
â”œâ”€â”€ main.py                    # ä¸»æ‰§è¡Œè„šæœ¬ï¼Œå®Œæ•´åˆ†ææµç¨‹
â”œâ”€â”€ analysis.py                # æ•°æ®åˆ†æå’Œç»Ÿè®¡æ£€éªŒåŠŸèƒ½
â”œâ”€â”€ plotting.py                # å¯è§†åŒ–ç»˜å›¾åŠŸèƒ½
â”œâ”€â”€ run_analysis.py            # ç®€åŒ–è¿è¡Œæ¥å£
â”œâ”€â”€ view_figures.py            # å›¾è¡¨æŸ¥çœ‹å’Œæ•´ç†å·¥å…·
â”œâ”€â”€ policy_impact_summary.csv  # å¯¹æ¯”åˆ†æç»“æœ
â”œâ”€â”€ policy_impact_statistics.json # ç»Ÿè®¡æ£€éªŒç»“æœ
â””â”€â”€ figures/                   # å›¾è¡¨æ–‡ä»¶å¤¹
    â”œâ”€â”€ README.md              # å›¾è¡¨è¯´æ˜æ–‡æ¡£
    â”œâ”€â”€ gallery.html           # HTMLå›¾è¡¨ç”»å»Š
    â”œâ”€â”€ *_dashboard.png        # å›½å®¶ä»ªè¡¨ç›˜å›¾è¡¨ (18ä¸ª)
    â”œâ”€â”€ *_period_comparison.png # æœŸé—´å¯¹æ¯”å›¾è¡¨ (8ä¸ª)
    â””â”€â”€ *.png                  # ç»¼åˆåˆ†æå›¾è¡¨ (2ä¸ª)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: ä½¿ç”¨ç®€åŒ–æ¥å£ (æ¨è)
```bash
python3 run_analysis.py
```
æä¾›èœå•å¼æ“ä½œç•Œé¢ï¼ŒåŒ…å«ï¼š
- è¿è¡Œå®Œæ•´åˆ†æ
- ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨
- æŸ¥çœ‹å’Œæ•´ç†å›¾è¡¨
- æŸ¥çœ‹ç»“æœæ‘˜è¦

### æ–¹å¼2: ç›´æ¥è¿è¡Œåˆ†æ
```bash
python3 main.py
```

### æ–¹å¼3: ä»…ç”Ÿæˆå›¾è¡¨
```bash
python3 -c "from main import run_visualization_only; run_visualization_only()"
```

### æ–¹å¼4: æŸ¥çœ‹å›¾è¡¨
```bash
python3 view_figures.py
```

## ğŸ“Š åˆ†æå†…å®¹

### æ”¿ç­–æœŸé—´åˆ’åˆ†
- **æ”¿ç­–å‰æœŸ (Pre-Policy)**: 2001-2008å¹´
- **è¿‡æ¸¡æœŸ (Transition)**: 2009-2015å¹´  
- **æ”¿ç­–åæœŸ (Post-Policy)**: 2016-2024å¹´

### åˆ†ææŒ‡æ ‡
- **ç½‘ç»œä¸­å¿ƒæ€§**: åº¦ä¸­å¿ƒæ€§ã€ä¸­ä»‹ä¸­å¿ƒæ€§ã€PageRankä¸­å¿ƒæ€§ã€ç‰¹å¾å‘é‡ä¸­å¿ƒæ€§
- **è´¸æ˜“å¼ºåº¦**: è¿›å£å¼ºåº¦ã€å‡ºå£å¼ºåº¦ã€æ€»è´¸æ˜“å¼ºåº¦
- **ç½‘ç»œä½ç½®**: å…¥åº¦ã€å‡ºåº¦ã€æ€»åº¦æ•°

### ç»Ÿè®¡æ–¹æ³•
- **äº‹å‰-äº‹åå¯¹æ¯”**: æ¯”è¾ƒæ”¿ç­–å‰åæœŸçš„æŒ‡æ ‡å˜åŒ–
- **é…å¯¹tæ£€éªŒ**: æ£€éªŒå˜åŒ–çš„ç»Ÿè®¡æ˜¾è‘—æ€§
- **å˜åŒ–ç›¸å…³æ€§**: åˆ†æä¸åŒæŒ‡æ ‡å˜åŒ–ä¹‹é—´çš„å…³ç³»

## ğŸ¨ å¯è§†åŒ–å›¾è¡¨

### å›¾è¡¨ç±»å‹
1. **å›½å®¶ä»ªè¡¨ç›˜** (18ä¸ª): å±•ç¤ºå•ä¸ªå›½å®¶å¤šæŒ‡æ ‡æ—¶é—´åºåˆ—
2. **æœŸé—´å¯¹æ¯”å›¾** (8ä¸ª): å±•ç¤ºå„æŒ‡æ ‡æ”¿ç­–å‰åå¯¹æ¯”
3. **ç»¼åˆåˆ†æå›¾** (2ä¸ª): ç›¸å…³æ€§çƒ­åŠ›å›¾å’Œç»Ÿè®¡æ¦‚è§ˆ

### æŸ¥çœ‹æ–¹å¼
1. **HTMLç”»å»Š**: åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æ‰€æœ‰å›¾è¡¨
2. **æ–‡ä»¶å¤¹æµè§ˆ**: ç›´æ¥æ‰“å¼€ `figures/` æ–‡ä»¶å¤¹
3. **å‘½ä»¤è¡Œå·¥å…·**: ä½¿ç”¨ `view_figures.py`

## ğŸ“ˆ è¾“å‡ºæ–‡ä»¶

### æ•°æ®æ–‡ä»¶
- `policy_impact_summary.csv`: å„å›½å„æŒ‡æ ‡çš„æ”¿ç­–å‰åå¯¹æ¯”ç»“æœ
- `policy_impact_statistics.json`: ç»Ÿè®¡æ£€éªŒå’Œæ±‡æ€»ç»“æœ

### å›¾è¡¨æ–‡ä»¶
- `figures/`: åŒ…å«æ‰€æœ‰PNGæ ¼å¼çš„å¯è§†åŒ–å›¾è¡¨
- `figures/gallery.html`: HTMLå›¾è¡¨ç”»å»Šé¡µé¢
- `figures/README.md`: å›¾è¡¨è¯¦ç»†è¯´æ˜

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- **main.py**: æµç¨‹æ§åˆ¶å’Œå‚æ•°é…ç½®
- **analysis.py**: 
  - `run_pre_post_analysis()`: äº‹å‰-äº‹åå¯¹æ¯”åˆ†æ
  - `calculate_policy_impact_statistics()`: ç»Ÿè®¡æ£€éªŒè®¡ç®—
  - `export_analysis_results()`: ç»“æœå¯¼å‡º
- **plotting.py**:
  - `plot_country_dashboard()`: å›½å®¶ä»ªè¡¨ç›˜
  - `plot_period_comparison()`: æœŸé—´å¯¹æ¯”å›¾
  - `plot_correlation_heatmap()`: ç›¸å…³æ€§çƒ­åŠ›å›¾
  - `create_policy_impact_dashboard()`: å®Œæ•´ä»ªè¡¨ç›˜

### ä¾èµ–å…³ç³»
- **æ•°æ®æ¥æº**: `../03_metrics/all_metrics.csv`
- **PythonåŒ…**: pandas, numpy, matplotlib, seaborn, scipy, pathlib

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### è¿è¡Œå®Œæ•´åˆ†æ
```python
from main import run_full_policy_analysis

# ä½¿ç”¨é»˜è®¤å‚æ•°
success = run_full_policy_analysis()

# è‡ªå®šä¹‰å‚æ•°
success = run_full_policy_analysis(
    data_filepath="custom_data.csv",
    countries_list=["USA", "CHN", "RUS"],
    output_figures_dir="custom_figures/"
)
```

### ç”Ÿæˆç‰¹å®šå›¾è¡¨
```python
from plotting import plot_country_dashboard
import pandas as pd

df = pd.read_csv("../03_metrics/all_metrics.csv")
df['period'] = df['year'].apply(lambda x: 'pre' if x <= 2008 else 'post')

# ç”Ÿæˆç¾å›½ä»ªè¡¨ç›˜
dashboard_file = plot_country_dashboard(
    df, "USA", 
    ["in_strength", "out_strength", "betweenness_centrality"],
    output_dir="figures/"
)
```

## ğŸ¯ ä¸»è¦å‘ç°

æ”¿ç­–å½±å“åˆ†ææ­ç¤ºäº†ç¾å›½èƒ½æºç‹¬ç«‹æ”¿ç­–çš„å¤šæ–¹é¢æ•ˆåº”ï¼š

1. **ç½‘ç»œä¸­å¿ƒæ€§å˜åŒ–**: éƒ¨åˆ†å›½å®¶åœ¨å…¨çƒèƒ½æºç½‘ç»œä¸­çš„åœ°ä½å‘ç”Ÿæ˜¾è‘—æ”¹å˜
2. **è´¸æ˜“æ¨¡å¼è°ƒæ•´**: è´¸æ˜“å¼ºåº¦å’Œæ–¹å‘å‡ºç°ç»“æ„æ€§å˜åŒ–
3. **åŒºåŸŸå·®å¼‚**: ä¸åŒåœ°åŒºå›½å®¶å—æ”¿ç­–å½±å“ç¨‹åº¦å­˜åœ¨å·®å¼‚
4. **æ—¶é—´æ¼”åŒ–**: æ”¿ç­–æ•ˆåº”åœ¨ä¸åŒæ—¶æœŸè¡¨ç°å‡ºåŠ¨æ€ç‰¹å¾

è¯¦ç»†ç»“æœè¯·æŸ¥çœ‹ç”Ÿæˆçš„å›¾è¡¨å’Œæ•°æ®æ–‡ä»¶ã€‚

---
*æ¨¡å—ç‰ˆæœ¬: v2.0*  
*æœ€åæ›´æ–°: 2025-08-14*